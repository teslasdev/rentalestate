"use strict";(self.webpackChunkclient360=self.webpackChunkclient360||[]).push([[151],{82151:function(e,t,i){i.r(t);var l=i(97890),a=i(77276),n=i(85833),r=i(65954),s=i(98616),o=i(67662),d=i(2270),c=i(47313),x=i(41806),p=i(47825),h=i(42832),u=i(61113),g=i(31095),m=i(73428),j=i(10237),f=i(51997),v=i(17592),Z=i(17551),b=i(43997),w=i(85582),k=i(51405),C=i(47131),S=i(76310),y=i(75169),N=i(6210),R=i(46417);const _=(0,v.ZP)((e=>(0,R.jsx)(w.Z,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e})))((e=>{let{theme:t}=e;return{"& .MuiPaper-root":{borderRadius:6,marginTop:t.spacing(1),minWidth:180,color:"light"===t.palette.mode?"rgb(55, 65, 81)":t.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)},"&:active":{backgroundColor:(0,Z.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}}}}}));t.default=()=>{const[e,t]=(0,c.useState)(!1),[i,v]=(0,c.useState)(!1),[Z,w]=(0,c.useState)([]),[T,I]=(0,c.useState)(!1),[M,z]=(0,c.useState)(null),F=(0,l.s0)(),[D,E]=c.useState(null),[O,P]=(0,c.useState)([]),[$,A]=(0,c.useState)([]),[q,J]=(0,c.useState)(null),L=JSON.parse(localStorage.getItem("user")),Q=D,V=()=>{E(null)};(0,c.useEffect)((()=>{(async()=>{try{var e;const t=await(0,N.ac)("admin"===L.role?"api/task/viewalltasks":`api/task/viewusertasks/${L._id}`);P(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.taskData)}catch(t){console.log(t)}})()}),[e,i,T]);let W=0;const B=[{field:"id",headerName:"#",flex:1,renderCell:e=>(0,R.jsxs)(x.Z,{children:[" ",W+=1]})},{field:"title",headerName:"Title",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize",renderCell:e=>(0,R.jsx)(x.Z,{onClick:()=>{F(`/task/view/${e.row._id}`)},children:e.value})},{field:"category",headerName:"Related",flex:1},{field:"assignmentToName",headerName:"Assignment To",flex:1},{field:"start",headerName:"Start Date",flex:1},{field:"end",headerName:"End Date",flex:1},{field:"action",headerName:"Action",flex:1,renderCell:e=>(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)("div",{children:[(0,R.jsx)(C.Z,{"aria-label":"more",id:"long-button","aria-controls":Q?"long-menu":void 0,"aria-expanded":Q?"true":void 0,"aria-haspopup":"true",onClick:()=>{return t=e.row._id,void E(t);var t},children:(0,R.jsx)(b.Z,{})}),(0,R.jsxs)(_,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:D===e.row._id,open:Q===e.row._id,onClose:V,children:[(0,R.jsxs)(k.Z,{onClick:()=>(e=>{w(e),v(!0)})(e.row),disableRipple:!0,children:[(0,R.jsx)(r.Z,{style:{marginRight:"8px"}}),"Edit"]}),(0,R.jsxs)(k.Z,{onClick:()=>(e=>{F(`/task/view/${e}`)})(e.row._id),disableRipple:!0,children:[(0,R.jsx)(j.Z,{style:{marginRight:"8px",color:"green"}}),"View"]}),(0,R.jsxs)(k.Z,{onClick:()=>(e=>{z(e),I(!0)})(e.row._id),sx:{color:"red"},disableRipple:!0,children:[(0,R.jsx)(f.Z,{style:{marginRight:"8px",color:"red"}}),"Delete"]})]})]})})}];return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(d.Z,{open:e,handleClose:()=>t(!1)}),(0,R.jsx)(S.Z,{open:i,handleClose:()=>v(!1),data:Z}),(0,R.jsx)(y.Z,{open:T,handleClose:()=>I(!1),id:M}),(0,R.jsxs)(p.Z,{children:[(0,R.jsxs)(h.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,R.jsx)(u.Z,{variant:"h4",children:"Tasks"}),(0,R.jsx)(h.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,R.jsx)(g.Z,{variant:"contained",startIcon:(0,R.jsx)(s.Z,{icon:"eva:plus-fill"}),onClick:()=>t(!0),children:"New Task"})})]}),(0,R.jsx)(o.Z,{children:(0,R.jsx)(x.Z,{width:"100%",children:(0,R.jsx)(m.Z,{style:{height:"600px",paddingTop:"15px"},children:O&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(u.Z,{variant:"h4",sx:{margin:"2px 15px"},children:["Tasks ( ",null===O||void 0===O?void 0:O.length," )"]}),(0,R.jsx)(a._$,{rows:O,columns:B,checkboxSelection:!0,getRowId:e=>e._id,slots:{toolbar:n.n},slotProps:{toolbar:{showQuickFilter:!0}}})]})})})})]})]})}}}]);