"use strict";(self.webpackChunkclient360=self.webpackChunkclient360||[]).push([[196],{94196:function(e,l,a){a.r(l),a.d(l,{default:function(){return K}});var r=a(97890),n=a(75419),d=a(85833),o=a(65954),i=a(98616),t=a(67662),s=a(47313),c=a(41806),u=a(61113),h=a(47825),m=a(42832),x=a(31095),g=a(73428),p=a(36305),v=a(10237),C=a(51997),j=a(17592),Z=a(17551),S=a(83965),b=a(43997),f=a(85582),D=a(51405),N=a(6210),w=a(47131),L=a(66149),P=a(9019),y=a(5178),E=a(24631),A=a(4117),B=a(96467),W=a(97762),k=a(33604),T=a(23195),z=a(79429),R=a(3463),F=a(70816),M=a.n(F),O=a(31387),_=a(35460),U=a(78830),I=a(46417);var q=e=>{const{open:l,handleClose:a}=e,r=(0,z.TA)({initialValues:{leadName:"",leadEmail:"",leadPhoneNumber:""},onSubmit:async e=>{console.log("hey"),(async e=>{try{console.log(e),200===(await(0,N.Fv)("api/phoneCall/sigleCallUpload",e)).status&&(r.resetForm(),O.Am.success("Outbound added successfully"))}catch(l){console.log(l)}})(e),a()}});return(0,I.jsx)("div",{children:(0,I.jsxs)(L.Z,{open:l,onClose:a,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[(0,I.jsxs)(k.Z,{id:"scroll-dialog-title",style:{display:"flex",justifyContent:"space-between"},children:[(0,I.jsx)(u.Z,{variant:"h6",children:"Add New Outbound"}),(0,I.jsx)(u.Z,{children:(0,I.jsx)(T.Z,{onClick:a,style:{cursor:"pointer"}})})]}),(0,I.jsx)(B.Z,{dividers:!0,children:(0,I.jsx)("form",{children:(0,I.jsxs)(W.Z,{id:"scroll-dialog-description",tabIndex:-1,children:[(0,I.jsx)(u.Z,{style:{marginBottom:"15px"},variant:"h6",children:"Basic Lead Information"}),(0,I.jsxs)(P.ZP,{container:!0,rowSpacing:3,columnSpacing:{xs:0,sm:5,md:4},children:[(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:4,md:6,children:[(0,I.jsx)(y.Z,{children:"Lead Name"}),(0,I.jsx)(E.Z,{id:"leadName",name:"leadName",label:"",size:"small",fullWidth:!0,placeholder:"Enter Name",value:r.values.leadName,onChange:r.handleChange,error:r.touched.leadName&&Boolean(r.errors.leadName),helperText:r.touched.leadName&&r.errors.leadName})]}),(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:4,md:6,children:[(0,I.jsx)(y.Z,{children:"Lead Phone Number"}),(0,I.jsx)(E.Z,{id:"leadPhoneNumber",name:"leadPhoneNumber",type:"number",size:"small",fullWidth:!0,placeholder:"Enter Number",value:r.values.leadPhoneNumber,onChange:r.handleChange,error:r.touched.leadPhoneNumber&&Boolean(r.errors.leadPhoneNumber),helperText:r.touched.leadPhoneNumber&&r.errors.leadPhoneNumber})]}),(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:12,md:12,children:[(0,I.jsx)(y.Z,{children:"Lead Email"}),(0,I.jsx)(E.Z,{id:"leadEmail",name:"leadEmail",label:"",size:"small",fullWidth:!0,placeholder:"Enter Email",value:r.values.leadEmail,onChange:r.handleChange,error:r.touched.leadEmail&&Boolean(r.errors.leadEmail),helperText:r.touched.leadEmail&&r.errors.leadEmail})]})]})]})})}),(0,I.jsxs)(A.Z,{children:[(0,I.jsx)(x.Z,{onClick:a,color:"error",children:"Cancel"}),(0,I.jsx)(x.Z,{onClick:r.handleSubmit,variant:"contained",sx:{backgroundColor:_.Z.info,"&:hover":{backgroundColor:_.Z.infoDark}},children:"Add"})]})]})})};var Y=e=>{let{open:l,handleClose:a,id:n}=e;const d=(0,r.UO)().id,o=(0,r.s0)();return(0,I.jsxs)(L.Z,{open:l,onClose:a,children:[(0,I.jsx)(k.Z,{children:"Delete Lead"}),(0,I.jsx)(B.Z,{children:(0,I.jsx)("p",{children:"Are you sure you want to delete this lead?"})}),(0,I.jsxs)(A.Z,{children:[(0,I.jsx)(x.Z,{onClick:a,color:"primary",children:"Cancel"}),(0,I.jsx)(x.Z,{onClick:async()=>{try{await(0,N.ef)("api/lead/delete/",d||n)?(O.Am.success("Lead Deleted Successfully"),a(),setTimeout((()=>{o("/dashboard/lead")}),500)):O.Am.error("Cannot delete lead")}catch(e){console.log(e),O.Am.error("Cannot delete lead")}},color:"error",variant:"contained",children:"Delete"})]})]})},V=a(1550),$=a(88797);var J=e=>{const{open:l,handleClose:a,data:r}=e,n={leadName:null===r||void 0===r?void 0:r.leadName,leadEmail:null===r||void 0===r?void 0:r.leadEmail,leadPhoneNumber:null===r||void 0===r?void 0:r.leadPhoneNumber,leadAddress:null===r||void 0===r?void 0:r.leadAddress,leadSource:null===r||void 0===r?void 0:r.leadSource,leadStatus:(null===r||void 0===r?void 0:r.leadStatus)||"default",leadSourceDetails:null===r||void 0===r?void 0:r.leadSourceDetails,leadCampaign:null===r||void 0===r?void 0:r.leadCampaign,leadSourceChannel:null===r||void 0===r?void 0:r.leadSourceChannel,leadSourceMedium:null===r||void 0===r?void 0:r.leadSourceMedium,leadSourceCampaign:null===r||void 0===r?void 0:r.leadSourceCampaign,leadSourceReferral:null===r||void 0===r?void 0:r.leadSourceReferral,leadAssignedAgent:null===r||void 0===r?void 0:r.leadAssignedAgent,leadOwner:null===r||void 0===r?void 0:r.leadOwner,leadCommunicationPreferences:null===r||void 0===r?void 0:r.leadCommunicationPreferences,leadCreationDate:M()(null===r||void 0===r?void 0:r.leadCreationDate).format("YYYY-MM-DD"),leadConversionDate:M()(null===r||void 0===r?void 0:r.leadConversionDate).format("YYYY-MM-DD"),leadFollowUpDate:M()(null===r||void 0===r?void 0:r.leadFollowUpDate).format("YYYY-MM-DD"),leadFollowUpStatus:null===r||void 0===r?void 0:r.leadFollowUpStatus,leadScore:null===r||void 0===r?void 0:r.leadScore,leadNurturingWorkflow:null===r||void 0===r?void 0:r.leadNurturingWorkflow,leadEngagementLevel:null===r||void 0===r?void 0:r.leadEngagementLevel,leadConversionRate:null===r||void 0===r?void 0:r.leadConversionRate,leadNurturingStage:null===r||void 0===r?void 0:r.leadNurturingStage,leadNextAction:null===r||void 0===r?void 0:r.leadNextAction},d=(0,z.TA)({initialValues:n,enableReinitialize:!0,validationSchema:U.sL,onSubmit:async e=>{(async e=>{try{200===(await(0,N.nk)(`api/lead/edit/${r._id}`,e)).status?(O.Am.success("Lead Modified successfully"),d.resetForm()):O.Am.error("cannot edit lead")}catch(l){O.Am.error("cannot edit lead"),console.log(l)}})(e),a()}});return(0,I.jsx)("div",{children:(0,I.jsxs)(L.Z,{open:l,onClose:a,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[(0,I.jsxs)(k.Z,{id:"scroll-dialog-title",style:{display:"flex",justifyContent:"space-between"},children:[(0,I.jsx)(u.Z,{variant:"h6",children:"Edit Lead"}),(0,I.jsx)(u.Z,{children:(0,I.jsx)(T.Z,{onClick:a,style:{cursor:"pointer"}})})]}),(0,I.jsx)(B.Z,{dividers:!0,children:(0,I.jsx)("form",{children:(0,I.jsxs)(W.Z,{id:"scroll-dialog-description",tabIndex:-1,children:[(0,I.jsx)(u.Z,{style:{marginBottom:"15px"},variant:"h6",children:"Basic Lead Information"}),(0,I.jsxs)(P.ZP,{container:!0,rowSpacing:3,columnSpacing:{xs:0,sm:5,md:4},children:[(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:4,md:6,children:[(0,I.jsx)(y.Z,{children:"Lead Name"}),(0,I.jsx)(E.Z,{id:"leadName",name:"leadName",label:"",size:"small",fullWidth:!0,placeholder:"Enter Lead Name",value:d.values.leadName,onChange:d.handleChange,error:d.touched.leadName&&Boolean(d.errors.leadName),helperText:d.touched.leadName&&d.errors.leadName})]}),(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:4,md:6,children:[(0,I.jsx)(y.Z,{children:"Lead Email"}),(0,I.jsx)(E.Z,{id:"leadEmail",name:"leadEmail",label:"",size:"small",fullWidth:!0,placeholder:"Enter Lead Email",value:d.values.leadEmail,onChange:d.handleChange,error:d.touched.leadEmail&&Boolean(d.errors.leadEmail),helperText:d.touched.leadEmail&&d.errors.leadEmail})]}),(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:6,md:6,children:[(0,I.jsx)(y.Z,{children:"Lead Phone Number"}),(0,I.jsx)(E.Z,{id:"leadPhoneNumber",name:"leadPhoneNumber",type:"number",size:"small",fullWidth:!0,placeholder:"Enter Phone Number",value:d.values.leadPhoneNumber,onChange:d.handleChange,error:d.touched.leadPhoneNumber&&Boolean(d.errors.leadPhoneNumber),helperText:d.touched.leadPhoneNumber&&d.errors.leadPhoneNumber})]}),(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:12,md:12,children:[(0,I.jsx)(y.Z,{children:"Lead Address"}),(0,I.jsx)(E.Z,{id:"leadAddress",name:"leadAddress",label:"",size:"small",multiline:!0,rows:3,placeholder:"Enter Lead Address",fullWidth:!0,value:d.values.leadAddress,onChange:d.handleChange,error:d.touched.leadAddress&&Boolean(d.errors.leadAddress),helperText:d.touched.leadAddress&&d.errors.leadAddress})]})]}),(0,I.jsx)(u.Z,{style:{marginBottom:"15px",marginTop:"15px"},variant:"h6",children:"Lead Source and Details"}),(0,I.jsxs)(P.ZP,{container:!0,rowSpacing:3,columnSpacing:{xs:0,sm:5,md:4},children:[(0,I.jsx)(P.ZP,{item:!0,xs:12,sm:6,md:6,children:(0,I.jsxs)(V.Z,{fullWidth:!0,children:[(0,I.jsx)(y.Z,{children:"Lead Source"}),(0,I.jsx)(E.Z,{id:"leadSource",name:"leadSource",label:"",size:"small",fullWidth:!0,placeholder:"Enter Lead Source",value:d.values.leadSource,onChange:d.handleChange,error:d.touched.leadSource&&Boolean(d.errors.leadSource),helperText:d.touched.leadSource&&d.errors.leadSource})]})}),(0,I.jsx)(P.ZP,{item:!0,xs:12,sm:6,md:6,children:(0,I.jsxs)(V.Z,{fullWidth:!0,children:[(0,I.jsx)(y.Z,{children:"Lead Status"}),(0,I.jsxs)($.Z,{id:"leadStatus",name:"leadStatus",label:"",size:"small",fullWidth:!0,value:d.values.leadStatus,onChange:d.handleChange,error:d.touched.leadStatus&&Boolean(d.errors.leadStatus),children:[(0,I.jsx)(D.Z,{value:"default",disabled:!0,children:"Select Lead Status"}),(0,I.jsx)(D.Z,{value:"Pending",children:"Peding"}),(0,I.jsx)(D.Z,{value:"Sold",children:"Sold"}),(0,I.jsx)(D.Z,{value:"Active",children:"Active"})]})]})}),(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:6,md:6,children:[(0,I.jsx)(y.Z,{children:"Lead Source Details"}),(0,I.jsx)(E.Z,{id:"leadSourceDetails",name:"leadSourceDetails",label:"",size:"small",placeholder:"Enter Lead Source Details",fullWidth:!0,value:d.values.leadSourceDetails,onChange:d.handleChange,error:d.touched.leadSourceDetails&&Boolean(d.errors.leadSourceDetails),helperText:d.touched.leadSourceDetails&&d.errors.leadSourceDetails})]}),(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:6,md:6,children:[(0,I.jsx)(y.Z,{children:"Lead Campaign"}),(0,I.jsx)(E.Z,{id:"leadCampaign",name:"leadCampaign",label:"",size:"small",fullWidth:!0,placeholder:"Enter Lead Campaign",value:d.values.leadCampaign,onChange:d.handleChange,error:d.touched.leadCampaign&&Boolean(d.errors.leadCampaign),helperText:d.touched.leadCampaign&&d.errors.leadCampaign})]}),(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:6,md:6,children:[(0,I.jsx)(y.Z,{children:"Lead Source Channel"}),(0,I.jsx)(E.Z,{id:"leadSourceChannel",name:"leadSourceChannel",label:"",size:"small",placeholder:"Enter Lead Source Channel",fullWidth:!0,value:d.values.leadSourceChannel,onChange:d.handleChange,error:d.touched.leadSourceChannel&&Boolean(d.errors.leadSourceChannel),helperText:d.touched.leadSourceChannel&&d.errors.leadSourceChannel})]}),(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:6,md:6,children:[(0,I.jsx)(y.Z,{children:"Lead Source Medium"}),(0,I.jsx)(E.Z,{id:"leadSourceMedium",name:"leadSourceMedium",label:"",size:"small",fullWidth:!0,placeholder:"Enter Lead Source Medium",value:d.values.leadSourceMedium,onChange:d.handleChange,error:d.touched.leadSourceMedium&&Boolean(d.errors.leadSourceMedium),helperText:d.touched.leadSourceMedium&&d.errors.leadSourceMedium})]}),(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:6,md:6,children:[(0,I.jsx)(y.Z,{children:"Lead Source Campaign"}),(0,I.jsx)(E.Z,{id:"leadSourceCampaign",name:"leadSourceCampaign",label:"",size:"small",fullWidth:!0,placeholder:"Enter Lead Sourc Campaign",value:d.values.leadSourceCampaign,onChange:d.handleChange,error:d.touched.leadSourceCampaign&&Boolean(d.errors.leadSourceCampaign),helperText:d.touched.leadSourceCampaign&&d.errors.leadSourceCampaign})]}),(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:6,md:6,children:[(0,I.jsx)(y.Z,{children:"Lead Source Referral"}),(0,I.jsx)(E.Z,{id:"leadSourceReferral",name:"leadSourceReferral",label:"",size:"small",fullWidth:!0,placeholder:"Enter Lead Source Referral",value:d.values.leadSourceReferral,onChange:d.handleChange,error:d.touched.leadSourceReferral&&Boolean(d.errors.leadSourceReferral),helperText:d.touched.leadSourceReferral&&d.errors.leadSourceReferral})]})]}),(0,I.jsx)(u.Z,{style:{marginBottom:"15px",marginTop:"15px"},variant:"h6",children:"Lead Assignment and Ownership"}),(0,I.jsxs)(P.ZP,{container:!0,rowSpacing:3,columnSpacing:{xs:0,sm:5,md:4},children:[(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:6,md:6,children:[(0,I.jsx)(y.Z,{children:"Lead Assigned Agent"}),(0,I.jsx)(E.Z,{id:"leadAssignedAgent",name:"leadAssignedAgent",label:"",size:"small",fullWidth:!0,placeholder:"Enter Lead Assigned Agent",value:d.values.leadAssignedAgent,onChange:d.handleChange,error:d.touched.leadAssignedAgent&&Boolean(d.errors.leadAssignedAgent),helperText:d.touched.leadAssignedAgent&&d.errors.leadAssignedAgent})]}),(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:6,md:6,children:[(0,I.jsx)(y.Z,{children:"Lead Owner"}),(0,I.jsx)(E.Z,{id:"leadOwner",name:"leadOwner",label:"",size:"small",fullWidth:!0,placeholder:"Enter Lead Owner",value:d.values.leadOwner,onChange:d.handleChange,error:d.touched.leadOwner&&Boolean(d.errors.leadOwner),helperText:d.touched.leadOwner&&d.errors.leadOwner})]}),(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:6,md:6,children:[(0,I.jsx)(y.Z,{children:"Lead Communication Preferences"}),(0,I.jsx)(E.Z,{id:"leadCommunicationPreferences",name:"leadCommunicationPreferences",label:"",size:"small",fullWidth:!0,placeholder:"Enter Lead Communication Preferences",value:d.values.leadCommunicationPreferences,onChange:d.handleChange,error:d.touched.leadCommunicationPreferences&&Boolean(d.errors.leadCommunicationPreferences),helperText:d.touched.leadCommunicationPreferences&&d.errors.leadCommunicationPreferences})]})]}),(0,I.jsx)(u.Z,{style:{marginBottom:"15px",marginTop:"15px"},variant:"h6",children:"Lead Dates and Follow-up"}),(0,I.jsxs)(P.ZP,{container:!0,rowSpacing:3,columnSpacing:{xs:0,sm:5,md:4},children:[(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:4,md:4,children:[(0,I.jsx)(y.Z,{children:"Lead Creation Date"}),(0,I.jsx)(E.Z,{id:"leadCreationDate",name:"leadCreationDate",type:"date",size:"small",fullWidth:!0,placeholder:"Enter Lead Creation Date",value:d.values.leadCreationDate,onChange:d.handleChange,error:d.touched.leadCreationDate&&Boolean(d.errors.leadCreationDate),helperText:d.touched.leadCreationDate&&d.errors.leadCreationDate})]}),(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:4,md:4,children:[(0,I.jsx)(y.Z,{children:"Lead Conversion Date"}),(0,I.jsx)(E.Z,{id:"leadConversionDate",name:"leadConversionDate",type:"date",size:"small",fullWidth:!0,placeholder:"Enter Lead Conversion Date",value:d.values.leadConversionDate,onChange:d.handleChange,error:d.touched.leadConversionDate&&Boolean(d.errors.leadConversionDate),helperText:d.touched.leadConversionDate&&d.errors.leadConversionDate})]}),(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:4,md:4,children:[(0,I.jsx)(y.Z,{children:"Lead FollowUp Date"}),(0,I.jsx)(E.Z,{id:"leadFollowUpDate",name:"leadFollowUpDate",type:"date",size:"small",fullWidth:!0,placeholder:"Enter Lead Followup date",value:d.values.leadFollowUpDate,onChange:d.handleChange,error:d.touched.leadFollowUpDate&&Boolean(d.errors.leadFollowUpDate),helperText:d.touched.leadFollowUpDate&&d.errors.leadFollowUpDate})]}),(0,I.jsx)(P.ZP,{item:!0,xs:12,sm:4,md:8,children:(0,I.jsxs)(V.Z,{fullWidth:!0,children:[(0,I.jsx)(y.Z,{children:"Lead FollowUp Status"}),(0,I.jsx)(E.Z,{id:"leadFollowUpStatus",name:"leadFollowUpStatus",label:"",size:"small",fullWidth:!0,placeholder:"Enter Lead Follow Up status",value:d.values.leadFollowUpStatus,onChange:d.handleChange,error:d.touched.leadFollowUpStatus&&Boolean(d.errors.leadFollowUpStatus),helperText:d.touched.leadFollowUpStatus&&d.errors.leadFollowUpStatus})]})})]}),(0,I.jsx)(u.Z,{style:{marginBottom:"15px",marginTop:"15px"},variant:"h6",children:"Lead Scoring and Nurturing"}),(0,I.jsxs)(P.ZP,{container:!0,rowSpacing:3,columnSpacing:{xs:0,sm:5,md:4},children:[(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:4,md:4,children:[(0,I.jsx)(y.Z,{children:"Lead Score"}),(0,I.jsx)(E.Z,{id:"leadScore",name:"leadScore",type:"number",size:"small",fullWidth:!0,placeholder:"Enter Lead Score",value:d.values.leadScore,onChange:d.handleChange,error:d.touched.leadScore&&Boolean(d.errors.leadScore),helperText:d.touched.leadScore&&d.errors.leadScore})]}),(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:8,md:8,children:[(0,I.jsx)(y.Z,{children:"Lead Nurturing Workflow"}),(0,I.jsx)(E.Z,{id:"leadNurturingWorkflow",name:"leadNurturingWorkflow",label:"",size:"small",fullWidth:!0,placeholder:"Enter Lead Nurturing Workflow",value:d.values.leadNurturingWorkflow,onChange:d.handleChange,error:d.touched.leadNurturingWorkflow&&Boolean(d.errors.leadNurturingWorkflow),helperText:d.touched.leadNurturingWorkflow&&d.errors.leadNurturingWorkflow})]}),(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:4,md:4,children:[(0,I.jsx)(y.Z,{children:"Lead Engagement Level"}),(0,I.jsx)(E.Z,{id:"leadEngagementLevel",name:"leadEngagementLevel",label:"",size:"small",fullWidth:!0,placeholder:"Enter Lead Engagement Level",value:d.values.leadEngagementLevel,onChange:d.handleChange,error:d.touched.leadEngagementLevel&&Boolean(d.errors.leadEngagementLevel),helperText:d.touched.leadEngagementLevel&&d.errors.leadEngagementLevel})]}),(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:4,md:4,children:[(0,I.jsx)(y.Z,{children:"Lead Conversion Rate"}),(0,I.jsx)(E.Z,{id:"leadConversionRate",name:"leadConversionRate",label:"",size:"small",fullWidth:!0,placeholder:"Enter Lead Conversion Rate",value:d.values.leadConversionRate,onChange:d.handleChange,error:d.touched.leadConversionRate&&Boolean(d.errors.leadConversionRate),helperText:d.touched.leadConversionRate&&d.errors.leadConversionRate})]}),(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:4,md:4,children:[(0,I.jsx)(y.Z,{children:"Lead Nurturing Stage"}),(0,I.jsx)(E.Z,{id:"leadNurturingStage",name:"leadNurturingStage",label:"",size:"small",fullWidth:!0,placeholder:"Enter Lead Nurturing Stage",value:d.values.leadNurturingStage,onChange:d.handleChange,error:d.touched.leadNurturingStage&&Boolean(d.errors.leadNurturingStage),helperText:d.touched.leadNurturingStage&&d.errors.leadNurturingStage})]}),(0,I.jsxs)(P.ZP,{item:!0,xs:12,sm:8,md:8,children:[(0,I.jsx)(y.Z,{children:"Lead Next Action"}),(0,I.jsx)(E.Z,{id:"leadNextAction",name:"leadNextAction",label:"",size:"small",fullWidth:!0,placeholder:"Enter Lead Next Action",value:d.values.leadNextAction,onChange:d.handleChange,error:d.touched.leadNextAction&&Boolean(d.errors.leadNextAction),helperText:d.touched.leadNextAction&&d.errors.leadNextAction})]})]})]})})}),(0,I.jsxs)(A.Z,{children:[(0,I.jsx)(x.Z,{onClick:a,color:"error",children:"Cancel"}),(0,I.jsx)(x.Z,{onClick:d.handleSubmit,variant:"contained",sx:{backgroundColor:_.Z.info,"&:hover":{backgroundColor:_.Z.infoDark}},children:"Save Changes"})]})]})})};var Q=e=>{let{open:l,onClose:a,id:n,recipientEmail:d}=e;const o=(0,r.UO)().id,i=(0,z.TA)({initialValues:{recipient:o||n,subject:"",startDate:"",endDate:"",message:"",category:"lead",createByLead:o||n},validationSchema:R.Ry({recipient:R.Z_(),subject:R.Z_().required("Subject is required"),startDate:R.Z_().required("Start Date is required"),endDate:R.Z_().required("End Date is required"),message:R.Z_().required("Message is required")}),onSubmit:e=>{console.log("Form values:",e),(async e=>{try{e.sender=JSON.parse(localStorage.getItem("user"))._id,200===(await(0,N.Fv)("api/email/add",e)).status&&(O.Am.success("Email added successfully"),setTimeout((()=>{navigate(`dashboard/lead/view/${o}`)}),500))}catch(l){console.log(l),O.Am.error("cannot add email")}})(e),a()},enableReinitialize:!0});return(0,I.jsxs)(L.Z,{open:l,onClose:a,fullWidth:!0,maxWidth:"sm",children:[(0,I.jsx)(k.Z,{children:"Send Email"}),(0,I.jsx)(B.Z,{children:(0,I.jsxs)("form",{onSubmit:i.handleSubmit,children:[(0,I.jsx)(E.Z,{label:"Recipient",fullWidth:!0,margin:"normal",variant:"outlined",name:"recipient",value:d,error:i.touched.recipient&&Boolean(i.errors.recipient),disabled:!0,helperText:i.touched.recipient&&i.errors.recipient}),(0,I.jsx)(E.Z,{label:"Subject",fullWidth:!0,margin:"normal",variant:"outlined",name:"subject",value:i.values.subject,onChange:i.handleChange,onBlur:i.handleBlur,error:i.touched.subject&&Boolean(i.errors.subject),helperText:i.touched.subject&&i.errors.subject}),(0,I.jsx)(E.Z,{label:"Start Date",type:"datetime-local",fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},name:"startDate",value:i.values.startDate,onChange:i.handleChange,onBlur:i.handleBlur,error:i.touched.startDate&&Boolean(i.errors.startDate),helperText:i.touched.startDate&&i.errors.startDate}),(0,I.jsx)(E.Z,{label:"End Date",type:"datetime-local",fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},name:"endDate",value:i.values.endDate,onChange:i.handleChange,onBlur:i.handleBlur,error:i.touched.endDate&&Boolean(i.errors.endDate),helperText:i.touched.endDate&&i.errors.endDate}),(0,I.jsx)(E.Z,{label:"Message",multiline:!0,rows:4,fullWidth:!0,margin:"normal",variant:"outlined",name:"message",value:i.values.message,onChange:i.handleChange,onBlur:i.handleBlur,error:i.touched.message&&Boolean(i.errors.message),helperText:i.touched.message&&i.errors.message}),(0,I.jsxs)(A.Z,{children:[(0,I.jsx)(x.Z,{onClick:a,color:"primary",variant:"contained",size:"large",children:"Close"}),(0,I.jsx)(x.Z,{startIcon:(0,I.jsx)(S.Z,{}),color:"primary",type:"submit",variant:"contained",size:"large",children:"Send"})]})]})})]})};var G=e=>{let{open:l,onClose:a,id:n,recipientName:d}=e;const o=(0,r.UO)().id,i=(0,z.TA)({initialValues:{recipient:o||n,startDate:"",endDate:"",callDuration:"",callNotes:"",category:"lead",createByLead:o||n},validationSchema:R.Ry({recipient:R.Z_(),startDate:R.Z_().required("Start Date is required"),endDate:R.Z_().required("End Date is required"),callDuration:R.Z_().required("Call Duration is required"),callNotes:R.Z_().required("Call Notes is required")}),onSubmit:e=>{console.log("Form values:",e),(async e=>{try{e.sender=JSON.parse(localStorage.getItem("user"))._id,200===(await(0,N.Fv)("api/phoneCall/add",e)).status?O.Am.success("call added successfully"):O.Am.error("cannot add call")}catch(l){console.log(l),O.Am.error("cannot add call")}})(e),a()}});return(0,I.jsxs)(L.Z,{open:l,onClose:a,fullWidth:!0,maxWidth:"sm",children:[(0,I.jsx)(k.Z,{children:"Make Call"}),(0,I.jsx)(B.Z,{children:(0,I.jsxs)("form",{onSubmit:i.handleSubmit,children:[(0,I.jsx)(E.Z,{label:"Recipient",fullWidth:!0,margin:"normal",variant:"outlined",name:"recipient",disabled:!0,value:d,error:i.touched.recipient&&Boolean(i.errors.recipient),helperText:i.touched.recipient&&i.errors.recipient}),(0,I.jsx)(E.Z,{label:"Start Date",type:"datetime-local",fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},name:"startDate",value:i.values.startDate,onChange:i.handleChange,onBlur:i.handleBlur,error:i.touched.startDate&&Boolean(i.errors.startDate),helperText:i.touched.startDate&&i.errors.startDate}),(0,I.jsx)(E.Z,{label:"End Date",type:"datetime-local",fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},name:"endDate",value:i.values.endDate,onChange:i.handleChange,onBlur:i.handleBlur,error:i.touched.endDate&&Boolean(i.errors.endDate),helperText:i.touched.endDate&&i.errors.endDate}),(0,I.jsx)(E.Z,{label:"Call Duration",fullWidth:!0,margin:"normal",variant:"outlined",name:"callDuration",value:i.values.callDuration,onChange:i.handleChange,onBlur:i.handleBlur,error:i.touched.callDuration&&Boolean(i.errors.callDuration),helperText:i.touched.callDuration&&i.errors.callDuration}),(0,I.jsx)(E.Z,{label:"Call Notes",multiline:!0,rows:4,fullWidth:!0,margin:"normal",variant:"outlined",name:"callNotes",value:i.values.callNotes,onChange:i.handleChange,onBlur:i.handleBlur,error:i.touched.callNotes&&Boolean(i.errors.callNotes),helperText:i.touched.callNotes&&i.errors.callNotes}),(0,I.jsxs)(A.Z,{children:[(0,I.jsx)(x.Z,{onClick:a,color:"primary",variant:"contained",size:"large",children:"Cancel"}),(0,I.jsx)(x.Z,{startIcon:(0,I.jsx)(p.Z,{}),color:"primary",type:"submit",variant:"contained",size:"large",children:"Call"})]})]})})]})};const H=(0,j.ZP)((e=>(0,I.jsx)(f.Z,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e})))((e=>{let{theme:l}=e;return{"& .MuiPaper-root":{borderRadius:6,marginTop:l.spacing(1),minWidth:180,color:"light"===l.palette.mode?"rgb(55, 65, 81)":l.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:l.palette.text.secondary,marginRight:l.spacing(1.5)},"&:active":{backgroundColor:(0,Z.Fq)(l.palette.primary.main,l.palette.action.selectedOpacity)}}}}}));var K=()=>{const e=(0,r.s0)(),[l,a]=(0,s.useState)(!1),[j,Z]=(0,s.useState)(!1),[f,N]=(0,s.useState)(!1),[L,P]=s.useState(null),[y,E]=(0,s.useState)(!1),[A,B]=(0,s.useState)(!1),[W,k]=(0,s.useState)([]),[T,z]=(0,s.useState)([]),[R,F]=(0,s.useState)(null),O=(JSON.parse(localStorage.getItem("user")),L),_=()=>{P(null)},U=()=>a(!0),V=[{field:"id",headerName:"#",flex:1,renderCell:()=>(0,I.jsx)(c.Z,{children:count+=1})},{field:"leadName",headerName:"Name",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize",renderCell:l=>(0,I.jsx)(c.Z,{onClick:()=>{e(`/dashboard/lead/view/${null!==l&&void 0!==l&&l.row._id?null===l||void 0===l?void 0:l.row._id:null===l||void 0===l?void 0:l.row.call_id}`)},children:null!==l&&void 0!==l&&l.value?null===l||void 0===l?void 0:l.value:"No Name"})},{field:"leadEmail",headerName:"Email",flex:1},{field:"leadPhoneNumber",headerName:"Phone Number",flex:1},{field:"Date",headerName:"Date",flex:1,renderCell:e=>{var l;return(0,I.jsx)(u.Z,{style:{color:"black"},children:M()(null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.updatedDate).format("h:mm A DD-MM-YYYY")})}},{field:"action",headerName:"Action",flex:1,renderCell:l=>(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{children:[(0,I.jsx)(w.Z,{"aria-label":"more",id:"long-button","aria-controls":O?"long-menu":void 0,"aria-expanded":O?"true":void 0,"aria-haspopup":"true",onClick:()=>{return e=null===l||void 0===l?void 0:l.row._id,void P(e);var e},children:(0,I.jsx)(b.Z,{})}),(0,I.jsxs)(H,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:L===(null===l||void 0===l?void 0:l.row._id),open:O===(null===l||void 0===l?void 0:l.row._id),onClose:_,children:[(0,I.jsxs)(D.Z,{onClick:()=>{return e=null===l||void 0===l?void 0:l.row,z(e),Z(!0),void console.log(j);var e},disableRipple:!0,children:[(0,I.jsx)(o.Z,{style:{marginRight:"8px"}}),"Edit"]}),(0,I.jsxs)(D.Z,{onClick:()=>{return e=null===l||void 0===l?void 0:l.row._id,F(e),void B(!0);var e},disableRipple:!0,children:[(0,I.jsx)(p.Z,{style:{marginRight:"8px"}}),"Create Call"]}),(0,I.jsxs)(D.Z,{onClick:()=>{return e=null===l||void 0===l?void 0:l.row._id,F(e),void E(!0);var e},disableRipple:!0,children:[(0,I.jsx)(S.Z,{style:{marginRight:"8px"}}),"Send Email"]}),(0,I.jsxs)(D.Z,{onClick:()=>{return a=null===l||void 0===l?void 0:l.row._id,void e(`/dashboard/lead/view/${a}`);var a},disableRipple:!0,children:[(0,I.jsx)(v.Z,{style:{marginRight:"8px",color:"green"}}),"View"]}),(0,I.jsxs)(D.Z,{onClick:()=>{return e=null===l||void 0===l?void 0:l.row._id,console.log(e),F(e),void N(!0);var e},sx:{color:"red"},disableRipple:!0,children:[(0,I.jsx)(C.Z,{style:{marginRight:"8px",color:"red"}}),"Delete"]})]})]})})}];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(q,{open:l,handleClose:()=>a(!1)}),(0,I.jsx)(Y,{open:f,handleClose:()=>N(!1),id:R}),(0,I.jsx)(J,{open:j,handleClose:()=>Z(!1),data:T}),(0,I.jsx)(Q,{open:y,onClose:()=>E(!1),id:R}),(0,I.jsx)(G,{open:A,onClose:()=>B(!1),id:R}),(0,I.jsxs)(h.Z,{children:[(0,I.jsxs)(m.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,I.jsx)(u.Z,{variant:"h4",children:"Outbound-Management"}),(0,I.jsxs)(m.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:[(0,I.jsx)(x.Z,{variant:"contained",startIcon:(0,I.jsx)(i.Z,{icon:"eva:plus-fill"}),onClick:U,children:"New Outbound"}),(0,I.jsx)(x.Z,{variant:"contained",startIcon:(0,I.jsx)(i.Z,{icon:"eva:plus-fill"}),onClick:U,children:"Upload Csv"})]})]}),(0,I.jsx)(t.Z,{children:(0,I.jsx)(c.Z,{width:"100%",children:(0,I.jsx)(g.Z,{style:{height:"600px",paddingTop:"10px"},children:W&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(u.Z,{variant:"h4",sx:{margin:"2px 15px"},children:["Outbound ( ",null===W||void 0===W?void 0:W.length," )"]}),(0,I.jsx)(n._$,{rows:W,columns:V,checkboxSelection:!0,getRowId:e=>null!==e&&void 0!==e&&e._id?null===e||void 0===e?void 0:e._id:null===e||void 0===e?void 0:e.call_id,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},slots:{toolbar:d.n},pageSizeOptions:[5,20],slotProps:{toolbar:{showQuickFilter:!0}}})]})})})})]})]})}}}]);