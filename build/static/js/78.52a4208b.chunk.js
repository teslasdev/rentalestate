"use strict";(self.webpackChunkclient360=self.webpackChunkclient360||[]).push([[78],{60078:function(e,l,a){a.r(l);var t=a(97890),i=a(75419),n=a(85833),r=(a(98616),a(67662)),o=a(47313),d=a(41806),s=a(61113),c=a(31095),u=a(47825),p=a(42832),m=a(73428),h=a(17592),x=a(17551),g=a(85582),v=a(6210),f=(a(16633),a(20011),a(24249),a(46808),a(5833),a(70816)),b=a.n(f),S=a(46417);(0,h.ZP)((e=>(0,S.jsx)(g.Z,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e})))((e=>{let{theme:l}=e;return{"& .MuiPaper-root":{borderRadius:6,marginTop:l.spacing(1),minWidth:180,color:"light"===l.palette.mode?"rgb(55, 65, 81)":l.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:l.palette.text.secondary,marginRight:l.spacing(1.5)},"&:active":{backgroundColor:(0,x.Fq)(l.palette.primary.main,l.palette.action.selectedOpacity)}}}}}));l.default=()=>{const e=(0,t.s0)(),[l,a]=(0,o.useState)(!1),[h,x]=(0,o.useState)(!1),[g,f]=(0,o.useState)(!1),[j,C]=o.useState(null),[_,w]=(0,o.useState)(!1),[N,y]=(0,o.useState)(!1),[Z,k]=(0,o.useState)([]),[M,z]=(0,o.useState)([]),[D,I]=(0,o.useState)(null),[O,E]=(JSON.parse(localStorage.getItem("user")),(0,o.useState)([])),[P,F]=(0,o.useState)([]),R=()=>{const e=O.filter((e=>!(!e.call_analysis||"Positive"!==e.call_analysis.agent_sentiment))),l={caller_number:"phoneNumber",caller_name:"name",caller_email:"email",start_time:"start_date"},a=e.map(((e,a)=>function(e,l,a){const t={};return Object.keys(e).forEach((a=>{a in l?t[l[a]]=e[a]:t[a]=e[a]})),t}(e,l)));F(a)};(0,o.useEffect)((()=>{(async()=>{try{const e=await(0,v.ac)("api/llm//llmleadCalls");E(e.data.result)}catch(e){console.log(e)}})()}),[]),(0,o.useEffect)((()=>{R()}),[O]);let Y=0;const[A,L]=(0,o.useState)([]);(0,o.useEffect)((()=>{T()}),[P]);const T=()=>{P.sort(((e,l)=>new Date(e.start_date)-new Date(l.start_date))),L(P)};console.log("newData",A);const $=[{field:"id",headerName:"#",flex:1,renderCell:()=>(0,S.jsx)(d.Z,{children:Y+=1})},{field:"name",headerName:"Name",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize",renderCell:l=>(0,S.jsx)(d.Z,{onClick:()=>{e(`/dashboard/inbound-calls/view/${null!==l&&void 0!==l&&l.row._id?null===l||void 0===l?void 0:l.row._id:null===l||void 0===l?void 0:l.row.call_id}`)},children:null!==l&&void 0!==l&&l.value?null===l||void 0===l?void 0:l.value:"No Name"})},{field:"email",headerName:"Email",flex:1,renderCell:e=>(0,S.jsx)(d.Z,{children:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:"N/A"})},{field:"phoneNumber",headerName:"Phone Number",flex:1,renderCell:e=>(0,S.jsx)(d.Z,{children:null!==e&&void 0!==e&&e.value?null===e||void 0===e?void 0:e.value:"N/A"})},{field:"start_date",headerName:"Date",flex:1,renderCell:e=>{var l;return(0,S.jsx)(s.Z,{style:{color:"black"},children:b()(null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.start_date).format("h:mm A DD-MM-YYYY")})}},{field:"Call",headerName:"Call",flex:1,renderCell:e=>(0,S.jsx)(c.Z,{padding:1,borderRadius:1,onClick:"",display:"flex",justifyContent:"center",alignItems:"center",style:{background:"#ede7f6",color:"#5e35b1"},children:"Create Call"})}];return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(u.Z,{children:[(0,S.jsx)(p.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:(0,S.jsx)(s.Z,{variant:"h4",children:"Lead-Management"})}),(0,S.jsx)(r.Z,{children:(0,S.jsx)(d.Z,{width:"100%",children:(0,S.jsx)(m.Z,{style:{height:"600px",paddingTop:"10px"},children:A&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(s.Z,{variant:"h4",sx:{margin:"2px 15px"},children:["Leads ( ",null===A||void 0===A?void 0:A.length," )"]}),(0,S.jsx)(i._$,{rows:A,columns:$,checkboxSelection:!0,getRowId:e=>null!==e&&void 0!==e&&e._id?null===e||void 0===e?void 0:e._id:null===e||void 0===e?void 0:e.call_id,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},slots:{toolbar:n.n},pageSizeOptions:[5,20],slotProps:{toolbar:{showQuickFilter:!0}}})]})})})})]})})}}}]);