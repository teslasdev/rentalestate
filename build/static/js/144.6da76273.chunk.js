"use strict";(self.webpackChunkclient360=self.webpackChunkclient360||[]).push([[144],{49144:function(e,l,a){a.r(l),a.d(l,{default:function(){return F}});var n=a(97890),o=a(75419),i=a(85833),r=a(98616),t=a(67662),s=a(47313),d=a(41806),c=a(31095),h=a(61113),u=a(47825),m=a(42832),p=a(73428),x=a(17592),g=a(17551),v=a(85582),b=a(6210),j=a(66149),Z=a(9019),f=a(5178),C=a(24631),w=a(4117),y=a(96467),N=a(97762),S=a(33604),k=a(23195),I=a(79429),M=a(31387),_=a(35460),O=a(78830),P=a(46417);var D=e=>{const{open:l,handleClose:a}=e,n=(0,I.TA)({initialValues:{name:"",email:"",phoneNumber:""},validationSchema:O.sL,onSubmit:async e=>{console.log("hey"),(async e=>{try{console.log(e);let i=await(0,b.Fv)("api/phoneCall/sigleCallUpload",e);var l,o;200===i.status?(n.resetForm(),a(),M.Am.success("Outbound added successfully")):M.Am.error(null===i||void 0===i||null===(l=i.response)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.msg)}catch(i){console.log(i)}})(e)}});return(0,P.jsx)("div",{children:(0,P.jsxs)(j.Z,{open:l,onClose:a,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[(0,P.jsxs)(S.Z,{id:"scroll-dialog-title",style:{display:"flex",justifyContent:"space-between"},children:[(0,P.jsx)(h.Z,{variant:"h6",children:"Add New Outbound"}),(0,P.jsx)(h.Z,{children:(0,P.jsx)(k.Z,{onClick:a,style:{cursor:"pointer"}})})]}),(0,P.jsx)(y.Z,{dividers:!0,children:(0,P.jsx)("form",{children:(0,P.jsxs)(N.Z,{id:"scroll-dialog-description",tabIndex:-1,children:[(0,P.jsx)(h.Z,{style:{marginBottom:"15px"},variant:"h6",children:"Basic Lead Information"}),(0,P.jsxs)(Z.ZP,{container:!0,rowSpacing:3,columnSpacing:{xs:0,sm:5,md:4},children:[(0,P.jsxs)(Z.ZP,{item:!0,xs:12,sm:4,md:6,children:[(0,P.jsx)(f.Z,{children:"Lead Name"}),(0,P.jsx)(C.Z,{id:"name",name:"name",label:"",size:"small",fullWidth:!0,placeholder:"Enter Name",value:n.values.leadName,onChange:n.handleChange,error:n.touched.name&&Boolean(n.errors.name),helperText:n.touched.name&&n.errors.name})]}),(0,P.jsxs)(Z.ZP,{item:!0,xs:12,sm:4,md:6,children:[(0,P.jsx)(f.Z,{children:"Lead Phone Number"}),(0,P.jsx)(C.Z,{id:"phoneNumber",name:"phoneNumber",type:"text",fullWidth:!0,placeholder:"Enter Number",value:n.values.phoneNumber,onChange:n.handleChange,error:n.touched.phoneNumber&&Boolean(n.errors.phoneNumber),helperText:n.touched.phoneNumber&&n.errors.phoneNumber})]}),(0,P.jsxs)(Z.ZP,{item:!0,xs:12,sm:12,md:12,children:[(0,P.jsx)(f.Z,{children:"Lead Email"}),(0,P.jsx)(C.Z,{id:"email",name:"email",label:"",size:"small",fullWidth:!0,placeholder:"Enter Email",value:n.values.email,onChange:n.handleChange,error:n.touched.email&&Boolean(n.errors.email),helperText:n.touched.email&&n.errors.email})]})]})]})})}),(0,P.jsxs)(w.Z,{children:[(0,P.jsx)(c.Z,{onClick:a,color:"error",children:"Cancel"}),(0,P.jsx)(c.Z,{onClick:n.handleSubmit,variant:"contained",sx:{backgroundColor:_.Z.info,"&:hover":{backgroundColor:_.Z.infoDark}},children:"Add"})]})]})})},z=a(20011),L=a(70816),A=a.n(L),E=a(51997);(0,x.ZP)((e=>(0,P.jsx)(v.Z,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e})))((e=>{let{theme:l}=e;return{"& .MuiPaper-root":{borderRadius:6,marginTop:l.spacing(1),minWidth:180,color:"light"===l.palette.mode?"rgb(55, 65, 81)":l.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:l.palette.text.secondary,marginRight:l.spacing(1.5)},"&:active":{backgroundColor:(0,g.Fq)(l.palette.primary.main,l.palette.action.selectedOpacity)}}}}}));var F=()=>{const e=(0,n.s0)(),[l,a]=(0,s.useState)(!1),[x,g]=(0,s.useState)(!1),[v,j]=(0,s.useState)(!1),[Z,f]=s.useState(null),[C,w]=(0,s.useState)([]),[y,N]=(JSON.parse(localStorage.getItem("user")),(0,s.useState)([])),S=async()=>{try{var e;const l=await(0,b.ac)("api/phoneCall/getUploadedLead"),a=[...null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.leads].sort(((e,l)=>new Date(l.created_at)-new Date(e.created_at)));w(a),console.log(l.data)}catch(l){console.log(l)}};(0,s.useEffect)((()=>{S()}),[l]);const k=[{field:"name",headerName:"Name",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize",renderCell:l=>(0,P.jsx)(d.Z,{onClick:()=>{e(`/dashboard/lead/view/${null!==l&&void 0!==l&&l.row._id?null===l||void 0===l?void 0:l.row._id:null===l||void 0===l?void 0:l.row.call_id}`)},children:null!==l&&void 0!==l&&l.value?null===l||void 0===l?void 0:l.value:"No Name"})},{field:"email",headerName:"Email",flex:1},{field:"phoneNumber",headerName:"Phone Number",flex:1},{field:"Status",headerName:"Status",flex:1,renderCell:l=>(0,P.jsx)(c.Z,{padding:1,borderRadius:1,onClick:()=>e(`/dashboard/outbound-calls/view/${l.row._id}`),display:"flex",justifyContent:"center",alignItems:"center",style:{background:"#ede7f6",color:"#5e35b1"},children:"View Status"})},{field:"Date",headerName:"Date",flex:1,renderCell:e=>{var l;return(0,P.jsx)(h.Z,{style:{color:"black"},children:A()(null===e||void 0===e||null===(l=e.row)||void 0===l?void 0:l.created_at).format("h:mm A DD-MM-YYYY")})}}];return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(D,{open:l,handleClose:()=>a(!1)}),(0,P.jsx)(z.Z,{open:v,handleClose:()=>j(!1)}),(0,P.jsxs)(u.Z,{children:[(0,P.jsxs)(m.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,P.jsx)(h.Z,{variant:"h4",children:"Outbound-Management"}),(0,P.jsxs)(m.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:[(0,P.jsx)(c.Z,{variant:"contained",startIcon:(0,P.jsx)(r.Z,{icon:"eva:plus-fill"}),onClick:()=>a(!0),children:"New Outbound"}),(0,P.jsx)(c.Z,{variant:"contained",startIcon:(0,P.jsx)(r.Z,{icon:"eva:plus-fill"}),onClick:()=>{j(!0)},children:"Upload Csv"}),(0,P.jsx)(c.Z,{variant:"contained",color:"error",startIcon:(0,P.jsx)(E.Z,{}),onClick:async()=>{try{await Promise.all(y.map((e=>(0,b.ef)("api/phoneCall/deleteLead/",e)))),M.Am.success("Lead(s) Deleted successful"),S(),N([])}catch(e){console.log(e)}},disabled:0===y.length,children:"Delete Selected"})]})]}),(0,P.jsx)(t.Z,{children:(0,P.jsx)(d.Z,{width:"100%",children:(0,P.jsx)(p.Z,{style:{height:"600px",paddingTop:"10px"},children:C&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(h.Z,{variant:"h4",sx:{margin:"2px 15px"},children:["Outbound ( ",null===C||void 0===C?void 0:C.length," )"]}),(0,P.jsx)(o._$,{rows:C,columns:k,checkboxSelection:!0,getRowId:e=>null!==e&&void 0!==e&&e._id?null===e||void 0===e?void 0:e._id:null===e||void 0===e?void 0:e.call_id,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},onRowSelectionModelChange:e=>N(e),slots:{toolbar:i.n},pageSizeOptions:[5,20],slotProps:{toolbar:{showQuickFilter:!0}}})]})})})})]})]})}}}]);