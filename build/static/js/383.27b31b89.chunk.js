"use strict";(self.webpackChunkclient360=self.webpackChunkclient360||[]).push([[383],{99383:function(e,l,a){a.r(l);var t=a(47313),i=a(41806),n=a(47825),r=a(42832),o=a(61113),s=a(31095),c=a(73428),d=a(67662),p=a(77276),x=a(85833),h=a(36305),u=a(10237),m=a(97890),g=a(98616),j=a(67848),C=a(6210),v=a(65954),Z=a(51997),b=a(17592),f=a(17551),w=a(83965),N=a(43997),S=a(85582),k=a(51405),y=a(47131),R=a(50034),_=a(46064),M=a(69937),z=a(71585),I=a(46417);const E=(0,b.ZP)((e=>(0,I.jsx)(S.Z,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e})))((e=>{let{theme:l}=e;return{"& .MuiPaper-root":{borderRadius:6,marginTop:l.spacing(1),minWidth:180,color:"light"===l.palette.mode?"rgb(55, 65, 81)":l.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:l.palette.text.secondary,marginRight:l.spacing(1.5)},"&:active":{backgroundColor:(0,f.Fq)(l.palette.primary.main,l.palette.action.selectedOpacity)}}}}}));l.default=()=>{const[e,l]=(0,t.useState)([]),[a,b]=t.useState(null),f=(0,m.s0)(),[S,F]=(0,t.useState)(!1),[P,O]=(0,t.useState)(!1),[$,T]=(0,t.useState)(null),[A,D]=(0,t.useState)(!1),[L,q]=(0,t.useState)(!1),[J,Q]=(0,t.useState)(!1),[V,W]=(0,t.useState)([]),[B,G]=(0,t.useState)(null),H=JSON.parse(localStorage.getItem("user")),K=a,U=()=>{b(null)},[X,Y]=(0,t.useState)([]),[ee,le]=(0,t.useState)([]);(0,t.useEffect)((()=>{(async()=>{try{const e=await(0,C.ac)("admin"===H.role?"api/contact/viewallcontacts":`api/contact/viewusercontacts/${H._id}`);"admin"===H.role?Y(e.data.contactDetails):Y(e.data)}catch(e){console.log(e)}})()}),[S,A,P,L,J]);let ae=0;const te=[{field:"id",headerName:"#",flex:1,cellClassName:"name-column--cell--capitalize",renderCell:e=>(0,I.jsxs)(i.Z,{children:[" ",ae+=1]})},{field:"title",headerName:"Title",flex:1,cellClassName:"name-column--cell--capitalize"},{field:"firstName",headerName:"First Name",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize",renderCell:e=>(0,I.jsx)(i.Z,{onClick:()=>{f(`/dashboard/contact/view/${e.row._id}`)},children:e.value})},{field:"lastName",headerName:"Last Name",flex:1,cellClassName:"name-column--cell--capitalize"},{field:"phoneNumber",headerName:"Phone Number",flex:1},{field:"email",headerName:"Email Address",flex:1},{field:"preferredContactMethod",headerName:"Contact Method",flex:1},{field:"action",headerName:"Action",flex:1,renderCell:e=>(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{children:[(0,I.jsx)(y.Z,{"aria-label":"more",id:"long-button","aria-controls":K?"long-menu":void 0,"aria-expanded":K?"true":void 0,"aria-haspopup":"true",onClick:()=>{return l=e.row._id,void b(l);var l},children:(0,I.jsx)(N.Z,{})}),(0,I.jsxs)(E,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:a===e.row._id,open:K===e.row._id,onClose:U,children:[(0,I.jsxs)(k.Z,{onClick:()=>(e=>{l(e),O(!0)})(e.row),disableRipple:!0,children:[(0,I.jsx)(v.Z,{style:{marginRight:"8px"}}),"Edit"]}),(0,I.jsxs)(k.Z,{onClick:()=>{return l=e.row._id,G(l),void Q(!0);var l},disableRipple:!0,children:[(0,I.jsx)(h.Z,{style:{marginRight:"8px"}}),"Create Call"]}),(0,I.jsxs)(k.Z,{onClick:()=>{return l=e.row._id,G(l),void q(!0);var l},disableRipple:!0,children:[(0,I.jsx)(w.Z,{style:{marginRight:"8px"}}),"Send Email"]}),(0,I.jsxs)(k.Z,{onClick:()=>{return l=e.row._id,void f(`/dashboard/contact/view/${l}`);var l},disableRipple:!0,children:[(0,I.jsx)(u.Z,{style:{marginRight:"8px",color:"green"}}),"View"]}),(0,I.jsxs)(k.Z,{onClick:()=>{return l=e.row._id,T(l),void D(!0);var l},sx:{color:"red"},disableRipple:!0,children:[(0,I.jsx)(Z.Z,{style:{marginRight:"8px",color:"red"}}),"Delete"]})]})]})})}];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(j.Z,{open:S,handleClose:()=>F(!1)}),(0,I.jsx)(R.Z,{open:A,handleClose:()=>D(!1),id:$}),(0,I.jsx)(_.Z,{open:P,handleClose:()=>O(!1),data:e}),(0,I.jsx)(M.Z,{open:L,onClose:()=>q(!1),id:B}),(0,I.jsx)(z.Z,{open:J,onClose:()=>Q(!1),id:B}),(0,I.jsxs)(n.Z,{children:[(0,I.jsxs)(r.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,I.jsx)(o.Z,{variant:"h4",children:"Contact-Management"}),(0,I.jsx)(r.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,I.jsx)(s.Z,{variant:"contained",startIcon:(0,I.jsx)(g.Z,{icon:"eva:plus-fill"}),onClick:()=>F(!0),children:"New Contact"})})]}),(0,I.jsx)(d.Z,{children:(0,I.jsx)(i.Z,{width:"100%",children:(0,I.jsxs)(c.Z,{style:{height:"600px",paddingTop:"15px"},children:[(0,I.jsxs)(o.Z,{variant:"h4",sx:{margin:"2px 15px"},children:["Contacts ( ",null===X||void 0===X?void 0:X.length," )"]}),(0,I.jsx)(p._$,{rows:X,columns:te,checkboxSelection:!0,getRowId:e=>null===e||void 0===e?void 0:e._id,slots:{toolbar:x.n},slotProps:{toolbar:{showQuickFilter:!0}}})]})})})]})]})}}}]);